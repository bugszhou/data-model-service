!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):(t=t||self,function(){var r=t["data-model-service"],n=t["data-model-service"]={};e(n),n.noConflict=function(){return t["data-model-service"]=r,n}}())}(this,function(t){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var n=r(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r});var o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var u=function(t,e,r){return e&&i(t.prototype,e),r&&i(t,r),t};var a=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t};var c=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e},f=r(function(t){function e(r){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(r)}t.exports=e}),s=r(function(t){function e(r,n){return t.exports=e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(r,n)}t.exports=e});var l=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)};var p=function(t,e){var r=e.get(t);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(t):r.value};var y=function(t,e,r){var n=e.get(t);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(t,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r};var v=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)},h=r(function(t,r){var n=9007199254740991,o="[object Arguments]",i="[object Function]",u="[object GeneratorFunction]",a="[object Map]",c="[object Set]",f=/^\[object .+?Constructor\]$/,s="object"==typeof e&&e&&e.Object===Object&&e,l="object"==typeof self&&self&&self.Object===Object&&self,p=s||l||Function("return this")(),y=r&&!r.nodeType&&r,v=y&&t&&!t.nodeType&&t,h=v&&v.exports===y;var d,b,_,g=Function.prototype,j=Object.prototype,m=p["__core-js_shared__"],w=(d=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||""))?"Symbol(src)_1."+d:"",O=g.toString,S=j.hasOwnProperty,k=j.toString,x=RegExp("^"+O.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=h?p.Buffer:void 0,A=j.propertyIsEnumerable,T=P?P.isBuffer:void 0,E=(b=Object.keys,_=Object,function(t){return b(_(t))}),$=L(p,"DataView"),M=L(p,"Map"),W=L(p,"Promise"),q=L(p,"Set"),F=L(p,"WeakMap"),C=!A.call({valueOf:1},"valueOf"),D=V($),I=V(M),R=V(W),N=V(q),B=V(F);function z(t){return!(!X(t)||function(t){return!!w&&w in t}(t))&&(Q(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?x:f).test(V(t))}function L(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return z(r)?r:void 0}var U=function(t){return k.call(t)};function V(t){if(null!=t){try{return O.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function G(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&J(t)}(t)&&S.call(t,"callee")&&(!A.call(t,"callee")||k.call(t)==o)}($&&"[object DataView]"!=U(new $(new ArrayBuffer(1)))||M&&U(new M)!=a||W&&"[object Promise]"!=U(W.resolve())||q&&U(new q)!=c||F&&"[object WeakMap]"!=U(new F))&&(U=function(t){var e=k.call(t),r="[object Object]"==e?t.constructor:void 0,n=r?V(r):void 0;if(n)switch(n){case D:return"[object DataView]";case I:return a;case R:return"[object Promise]";case N:return c;case B:return"[object WeakMap]"}return e});var H=Array.isArray;function J(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=n}(t.length)&&!Q(t)}var K=T||function(){return!1};function Q(t){var e=X(t)?k.call(t):"";return e==i||e==u}function X(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}t.exports=function(t){if(J(t)&&(H(t)||"string"==typeof t||"function"==typeof t.splice||K(t)||G(t)))return!t.length;var e=U(t);if(e==a||e==c)return!t.size;if(C||function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||j)}(t))return!E(t).length;for(var r in t)if(S.call(t,r))return!1;return!0}}),d=Array.isArray,b=r(function(t,r){var n=200,o="Expected a function",i="__lodash_hash_undefined__",u=1,a=2,c=1/0,f=9007199254740991,s="[object Arguments]",l="[object Array]",p="[object Boolean]",y="[object Date]",v="[object Error]",h="[object Function]",d="[object GeneratorFunction]",b="[object Map]",_="[object Number]",g="[object Object]",j="[object RegExp]",m="[object Set]",w="[object String]",O="[object Symbol]",S="[object ArrayBuffer]",k="[object DataView]",x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/,A=/^\./,T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,E=/\\(\\)?/g,$=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W[s]=W[l]=W[S]=W[p]=W[k]=W[y]=W[v]=W[h]=W[b]=W[_]=W[g]=W[j]=W[m]=W[w]=W["[object WeakMap]"]=!1;var q="object"==typeof e&&e&&e.Object===Object&&e,F="object"==typeof self&&self&&self.Object===Object&&self,C=q||F||Function("return this")(),D=r&&!r.nodeType&&r,I=D&&t&&!t.nodeType&&t,R=I&&I.exports===D&&q.process,N=function(){try{return R&&R.binding("util")}catch(t){}}(),B=N&&N.isTypedArray;function z(t,e){for(var r=-1,n=t?t.length:0;++r<n;)if(e(t[r],r,t))return!0;return!1}function L(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function U(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function V(t){var e=-1,r=Array(t.size);return t.forEach(function(t){r[++e]=t}),r}var G,H,J,K=Array.prototype,Q=Function.prototype,X=Object.prototype,Y=C["__core-js_shared__"],Z=(G=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",tt=Q.toString,et=X.hasOwnProperty,rt=X.toString,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=C.Symbol,it=C.Uint8Array,ut=X.propertyIsEnumerable,at=K.splice,ct=(H=Object.keys,J=Object,function(t){return H(J(t))}),ft=Bt(C,"DataView"),st=Bt(C,"Map"),lt=Bt(C,"Promise"),pt=Bt(C,"Set"),yt=Bt(C,"WeakMap"),vt=Bt(Object,"create"),ht=Kt(ft),dt=Kt(st),bt=Kt(lt),_t=Kt(pt),gt=Kt(yt),jt=ot?ot.prototype:void 0,mt=jt?jt.valueOf:void 0,wt=jt?jt.toString:void 0;function Ot(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function St(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function kt(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function xt(t){var e=-1,r=t?t.length:0;for(this.__data__=new kt;++e<r;)this.add(t[e])}function Pt(t){this.__data__=new St(t)}function At(t,e){var r=Zt(t)||Yt(t)?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],n=r.length,o=!!n;for(var i in t)!e&&!et.call(t,i)||o&&("length"==i||Lt(i,n))||r.push(i);return r}function Tt(t,e){for(var r=t.length;r--;)if(Xt(t[r][0],e))return r;return-1}Ot.prototype.clear=function(){this.__data__=vt?vt(null):{}},Ot.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},Ot.prototype.get=function(t){var e=this.__data__;if(vt){var r=e[t];return r===i?void 0:r}return et.call(e,t)?e[t]:void 0},Ot.prototype.has=function(t){var e=this.__data__;return vt?void 0!==e[t]:et.call(e,t)},Ot.prototype.set=function(t,e){return this.__data__[t]=vt&&void 0===e?i:e,this},St.prototype.clear=function(){this.__data__=[]},St.prototype.delete=function(t){var e=this.__data__,r=Tt(e,t);return!(r<0)&&(r==e.length-1?e.pop():at.call(e,r,1),!0)},St.prototype.get=function(t){var e=this.__data__,r=Tt(e,t);return r<0?void 0:e[r][1]},St.prototype.has=function(t){return Tt(this.__data__,t)>-1},St.prototype.set=function(t,e){var r=this.__data__,n=Tt(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},kt.prototype.clear=function(){this.__data__={hash:new Ot,map:new(st||St),string:new Ot}},kt.prototype.delete=function(t){return Nt(this,t).delete(t)},kt.prototype.get=function(t){return Nt(this,t).get(t)},kt.prototype.has=function(t){return Nt(this,t).has(t)},kt.prototype.set=function(t,e){return Nt(this,t).set(t,e),this},xt.prototype.add=xt.prototype.push=function(t){return this.__data__.set(t,i),this},xt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.clear=function(){this.__data__=new St},Pt.prototype.delete=function(t){return this.__data__.delete(t)},Pt.prototype.get=function(t){return this.__data__.get(t)},Pt.prototype.has=function(t){return this.__data__.has(t)},Pt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof St){var o=r.__data__;if(!st||o.length<n-1)return o.push([t,e]),this;r=this.__data__=new kt(o)}return r.set(t,e),this};var Et,$t=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var a=i[Et?u:++n];if(!1===e(o[a],a,o))break}return t};function Mt(t,e){for(var r=0,n=(e=Ut(e,t)?[e]:It(e)).length;null!=t&&r<n;)t=t[Jt(e[r++])];return r&&r==n?t:void 0}function Wt(t,e){return null!=t&&e in Object(t)}function qt(t,e,r,n,o){return t===e||(null==t||null==e||!ne(t)&&!oe(e)?t!=t&&e!=e:function(t,e,r,n,o,i){var c=Zt(t),f=Zt(e),h=l,d=l;c||(h=(h=zt(t))==s?g:h);f||(d=(d=zt(e))==s?g:d);var x=h==g&&!L(t),P=d==g&&!L(e),A=h==d;if(A&&!x)return i||(i=new Pt),c||ue(t)?Rt(t,e,r,n,o,i):function(t,e,r,n,o,i,c){switch(r){case k:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case S:return!(t.byteLength!=e.byteLength||!n(new it(t),new it(e)));case p:case y:case _:return Xt(+t,+e);case v:return t.name==e.name&&t.message==e.message;case j:case w:return t==e+"";case b:var f=U;case m:var s=i&a;if(f||(f=V),t.size!=e.size&&!s)return!1;var l=c.get(t);if(l)return l==e;i|=u,c.set(t,e);var h=Rt(f(t),f(e),n,o,i,c);return c.delete(t),h;case O:if(mt)return mt.call(t)==mt.call(e)}return!1}(t,e,h,r,n,o,i);if(!(o&a)){var T=x&&et.call(t,"__wrapped__"),E=P&&et.call(e,"__wrapped__");if(T||E){var $=T?t.value():t,M=E?e.value():e;return i||(i=new Pt),r($,M,n,o,i)}}if(!A)return!1;return i||(i=new Pt),function(t,e,r,n,o,i){var u=o&a,c=ae(t),f=c.length,s=ae(e).length;if(f!=s&&!u)return!1;var l=f;for(;l--;){var p=c[l];if(!(u?p in e:et.call(e,p)))return!1}var y=i.get(t);if(y&&i.get(e))return y==e;var v=!0;i.set(t,e),i.set(e,t);var h=u;for(;++l<f;){p=c[l];var d=t[p],b=e[p];if(n)var _=u?n(b,d,p,e,t,i):n(d,b,p,t,e,i);if(!(void 0===_?d===b||r(d,b,n,o,i):_)){v=!1;break}h||(h="constructor"==p)}if(v&&!h){var g=t.constructor,j=e.constructor;g!=j&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof j&&j instanceof j)&&(v=!1)}return i.delete(t),i.delete(e),v}(t,e,r,n,o,i)}(t,e,qt,r,n,o))}function Ft(t){return!(!ne(t)||function(t){return!!Z&&Z in t}(t))&&(ee(t)||L(t)?nt:$).test(Kt(t))}function Ct(t){return"function"==typeof t?t:null==t?ce:"object"==typeof t?Zt(t)?function(t,e){if(Ut(t)&&Vt(e))return Gt(Jt(t),e);return function(r){var n=function(t,e,r){var n=null==t?void 0:Mt(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&function(t,e,r){e=Ut(e,t)?[e]:It(e);var n,o=-1,i=e.length;for(;++o<i;){var u=Jt(e[o]);if(!(n=null!=t&&r(t,u)))break;t=t[u]}if(n)return n;return!!(i=t?t.length:0)&&re(i)&&Lt(u,i)&&(Zt(t)||Yt(t))}(t,e,Wt)}(r,t):qt(e,n,void 0,u|a)}}(t[0],t[1]):function(t){var e=function(t){var e=ae(t),r=e.length;for(;r--;){var n=e[r],o=t[n];e[r]=[n,o,Vt(o)]}return e}(t);if(1==e.length&&e[0][2])return Gt(e[0][0],e[0][1]);return function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,c=!n;if(null==t)return!i;for(t=Object(t);o--;){var f=r[o];if(c&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++o<i;){var s=(f=r[o])[0],l=t[s],p=f[1];if(c&&f[2]){if(void 0===l&&!(s in t))return!1}else{var y=new Pt;if(n)var v=n(l,p,s,t,e,y);if(!(void 0===v?qt(p,l,n,u|a,y):v))return!1}}return!0}(r,t,e)}}(t):Ut(e=t)?(r=Jt(e),function(t){return null==t?void 0:t[r]}):function(t){return function(e){return Mt(e,t)}}(e);var e,r}function Dt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||X,e!==n)return ct(t);var e,r,n,o=[];for(var i in Object(t))et.call(t,i)&&"constructor"!=i&&o.push(i);return o}function It(t){return Zt(t)?t:Ht(t)}function Rt(t,e,r,n,o,i){var c=o&a,f=t.length,s=e.length;if(f!=s&&!(c&&s>f))return!1;var l=i.get(t);if(l&&i.get(e))return l==e;var p=-1,y=!0,v=o&u?new xt:void 0;for(i.set(t,e),i.set(e,t);++p<f;){var h=t[p],d=e[p];if(n)var b=c?n(d,h,p,e,t,i):n(h,d,p,t,e,i);if(void 0!==b){if(b)continue;y=!1;break}if(v){if(!z(e,function(t,e){if(!v.has(e)&&(h===t||r(h,t,n,o,i)))return v.add(e)})){y=!1;break}}else if(h!==d&&!r(h,d,n,o,i)){y=!1;break}}return i.delete(t),i.delete(e),y}function Nt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Bt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return Ft(r)?r:void 0}var zt=function(t){return rt.call(t)};function Lt(t,e){return!!(e=null==e?f:e)&&("number"==typeof t||M.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t,e){if(Zt(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ie(t))||(P.test(t)||!x.test(t)||null!=e&&t in Object(e))}function Vt(t){return t==t&&!ne(t)}function Gt(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}(ft&&zt(new ft(new ArrayBuffer(1)))!=k||st&&zt(new st)!=b||lt&&"[object Promise]"!=zt(lt.resolve())||pt&&zt(new pt)!=m||yt&&"[object WeakMap]"!=zt(new yt))&&(zt=function(t){var e=rt.call(t),r=e==g?t.constructor:void 0,n=r?Kt(r):void 0;if(n)switch(n){case ht:return k;case dt:return b;case bt:return"[object Promise]";case _t:return m;case gt:return"[object WeakMap]"}return e});var Ht=Qt(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ie(t))return wt?wt.call(t):"";var e=t+"";return"0"==e&&1/t==-c?"-0":e}(e);var r=[];return A.test(t)&&r.push(""),t.replace(T,function(t,e,n,o){r.push(n?o.replace(E,"$1"):e||t)}),r});function Jt(t){if("string"==typeof t||ie(t))return t;var e=t+"";return"0"==e&&1/t==-c?"-0":e}function Kt(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Qt(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(o);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(Qt.Cache||kt),r}function Xt(t,e){return t===e||t!=t&&e!=e}function Yt(t){return function(t){return oe(t)&&te(t)}(t)&&et.call(t,"callee")&&(!ut.call(t,"callee")||rt.call(t)==s)}Qt.Cache=kt;var Zt=Array.isArray;function te(t){return null!=t&&re(t.length)&&!ee(t)}function ee(t){var e=ne(t)?rt.call(t):"";return e==h||e==d}function re(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}function ne(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function oe(t){return!!t&&"object"==typeof t}function ie(t){return"symbol"==typeof t||oe(t)&&rt.call(t)==O}var ue=B?function(t){return function(e){return t(e)}}(B):function(t){return oe(t)&&re(t.length)&&!!W[rt.call(t)]};function ae(t){return te(t)?At(t):Dt(t)}function ce(t){return t}t.exports=function(t,e){var r={};return e=Ct(e),function(t,e){t&&$t(t,e,ae)}(t,function(t,n,o){r[n]=e(t,n,o)}),r}}),_="Expected a function",g="__lodash_hash_undefined__",j=1/0,m="[object Function]",w="[object GeneratorFunction]",O="[object Symbol]",S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,k=/^\w*$/,x=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,A=/\\(\\)?/g,T=/^\[object .+?Constructor\]$/,E="object"==typeof e&&e&&e.Object===Object&&e,$="object"==typeof self&&self&&self.Object===Object&&self,M=E||$||Function("return this")();var W,q=Array.prototype,F=Function.prototype,C=Object.prototype,D=M["__core-js_shared__"],I=(W=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+W:"",R=F.toString,N=C.hasOwnProperty,B=C.toString,z=RegExp("^"+R.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=M.Symbol,U=q.splice,V=rt(M,"Map"),G=rt(Object,"create"),H=L?L.prototype:void 0,J=H?H.toString:void 0;function K(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Q(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function X(t){var e=-1,r=t?t.length:0;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Y(t,e){for(var r,n,o=t.length;o--;)if((r=t[o][0])===(n=e)||r!=r&&n!=n)return o;return-1}function Z(t,e){for(var r,n=0,o=(e=function(t,e){if(ut(t))return!1;var r=typeof t;if("number"==r||"symbol"==r||"boolean"==r||null==t||ct(t))return!0;return k.test(t)||!S.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:ut(r=e)?r:nt(r)).length;null!=t&&n<o;)t=t[ot(e[n++])];return n&&n==o?t:void 0}function tt(t){return!(!at(t)||(e=t,I&&I in e))&&(function(t){var e=at(t)?B.call(t):"";return e==m||e==w}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?z:T).test(function(t){if(null!=t){try{return R.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t));var e}function et(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function rt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return tt(r)?r:void 0}K.prototype.clear=function(){this.__data__=G?G(null):{}},K.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},K.prototype.get=function(t){var e=this.__data__;if(G){var r=e[t];return r===g?void 0:r}return N.call(e,t)?e[t]:void 0},K.prototype.has=function(t){var e=this.__data__;return G?void 0!==e[t]:N.call(e,t)},K.prototype.set=function(t,e){return this.__data__[t]=G&&void 0===e?g:e,this},Q.prototype.clear=function(){this.__data__=[]},Q.prototype.delete=function(t){var e=this.__data__,r=Y(e,t);return!(r<0)&&(r==e.length-1?e.pop():U.call(e,r,1),!0)},Q.prototype.get=function(t){var e=this.__data__,r=Y(e,t);return r<0?void 0:e[r][1]},Q.prototype.has=function(t){return Y(this.__data__,t)>-1},Q.prototype.set=function(t,e){var r=this.__data__,n=Y(r,t);return n<0?r.push([t,e]):r[n][1]=e,this},X.prototype.clear=function(){this.__data__={hash:new K,map:new(V||Q),string:new K}},X.prototype.delete=function(t){return et(this,t).delete(t)},X.prototype.get=function(t){return et(this,t).get(t)},X.prototype.has=function(t){return et(this,t).has(t)},X.prototype.set=function(t,e){return et(this,t).set(t,e),this};var nt=it(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(ct(t))return J?J.call(t):"";var e=t+"";return"0"==e&&1/t==-j?"-0":e}(e);var r=[];return x.test(t)&&r.push(""),t.replace(P,function(t,e,n,o){r.push(n?o.replace(A,"$1"):e||t)}),r});function ot(t){if("string"==typeof t||ct(t))return t;var e=t+"";return"0"==e&&1/t==-j?"-0":e}function it(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError(_);var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u),u};return r.cache=new(it.Cache||X),r}it.Cache=X;var ut=Array.isArray;function at(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ct(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&B.call(t)==O}var ft=function(t,e,r){var n=null==t?void 0:Z(t,e);return void 0===n?r:n};var st=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t},lt=function(){function t(){o(this,t),st(this,"parsedData",{})}return u(t,[{key:"getModel",value:function(){return{}}},{key:"parse",value:function(){return{}}},{key:"traverse",value:function(){return{}}}]),t}();var pt=function(t){if(Array.isArray(t))return t};var yt=function(t,e){var r=[],n=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(n=(u=a.next()).done)&&(r.push(u.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return r};var vt=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var ht=function(t,e){return pt(t)||yt(t,e)||vt()},dt=Object.prototype.toString,bt=function(t){switch(dt.call(t)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if("object"==typeof t&&t&&"number"==typeof t.length)try{if("function"==typeof t.callee)return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return null===t?"null":void 0===t?"undefined":t&&1===t.nodeType?"element":t===Object(t)?"object":typeof t};function _t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.isPass,r=t.msg,o=void 0===r?"":r,i=t.val,u=void 0===i?"":i,a=t.expectedType,c=void 0===a?"":a,f=t.keyName,s=void 0===f?"":f,l=t.oneOf,p=void 0===l?[]:l;return{isPass:void 0!==e&&e,reason:{msg:o,property:s,value:u||"",type:n(u),expected:{type:c,oneOf:p}}}}function gt(t,e){if(!t||!e)return _t({isPass:!1,msg:"valid-data require 2 args(data & schema)"});if(!v(t))return _t({isPass:!1,msg:"args[0] require object"});if(!v(e)||d(e))return _t({isPass:!1,msg:"args[1](schema) require object"});if(h(e))return _t({isPass:!0,msg:"args[1](schema) is empty"});if(d(t))return _t({isPass:!1,msg:"args[0](data) require object"});var r=function(t,e){var r=[],n=[];return Object.entries(e).some(function(e){var o=ht(e,2),i=o[0],u=o[1],a=t[i];if("boolean"===bt(u.required)&&!u.required)return n.push(_t({isPass:!0,val:a,expectedType:u.type,keyName:i,msg:""})),!1;if("undefined"===bt(a))return r.push(_t({isPass:!1,val:"undefined",expectedType:u.type,keyName:i,msg:"Lose ".concat(i)})),!0;if(bt(a)!==u.type)return r.push(_t({isPass:!1,val:a,expectedType:u.type,keyName:i,msg:"type error"})),!0;var c=u.oneOf;return d(c)&&0<c.length?c.includes(a)?(n.push(_t({isPass:!0,val:a,expectedType:u.type,keyName:i,msg:""})),!1):(r.push(_t({isPass:!1,val:a,expectedType:u.type,keyName:i,msg:"oneOf not found ".concat(a),oneOf:c})),!0):(n.push(_t({isPass:!0,val:a,expectedType:u.type,keyName:i,msg:""})),!1)}),{errors:r,passData:n}}(t,e).errors;return 0<r.length?r.shift():{isPass:!0,reason:{msg:"",property:"",value:"",type:"",expected:{type:"",oneOf:[]}}}}var jt={type:{type:"string",description:"类型",oneOf:["string","number","integer","boolean","object","array","null"],required:!0},description:{type:"string",description:"描述",required:!1},from:{type:"string",description:"数据来源",required:!0},properties:{type:"object",description:"属性",required:!1},default:{type:"function",description:"默认值",required:!1},required:{type:"boolean",description:"是否必传",required:!1}};function mt(t,e,r){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return r}var wt=function(t){function e(t){var r;return o(this,e),r=c(this,f(e).call(this)),$t.add(a(r)),Et.add(a(r)),Tt.add(a(r)),At.add(a(r)),Pt.add(a(r)),xt.add(a(r)),kt.add(a(r)),St.add(a(r)),Ot.set(a(r),{writable:!0,value:{}}),mt(a(r),St,Mt).call(a(r),t),r}return l(e,lt),u(e,[{key:"getModel",value:function(){return p(this,Ot)}},{key:"parse",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return v(t)?h(t)&&!d(t)?mt(this,$t,Rt).call(this):d(t)?mt(this,At,Ct).call(this,t):mt(this,xt,qt).call(this,t):(console.error("data require object"),mt(this,$t,Rt).call(this))}}]),e}(),Ot=new WeakMap,St=new WeakSet,kt=new WeakSet,xt=new WeakSet,Pt=new WeakSet,At=new WeakSet,Tt=new WeakSet,Et=new WeakSet,$t=new WeakSet,Mt=function(t){var e=function(t,e){if(!v(t))return{isPass:!1,reason:{msg:"args[0] require object",property:"",value:"",type:"string",expected:{type:"",oneOf:[]}}};var r=null;return Object.keys(t).some(function(n){var o=gt(t[n],e);return!o.isPass&&(r=o,!0)}),r||{isPass:!0,reason:{msg:"",property:"",value:"",type:"",expected:{type:"",oneOf:[]}}}}(t,jt);if(!e.isPass)throw new Error(e);mt(this,kt,Wt).call(this,t)},Wt=function(t){y(this,Ot,t)},qt=function(t){var e=this;return b(p(this,Ot),function(r){var n=mt(e,Pt,Ft).call(e,ft(t,r.from,mt(e,Tt,Dt).call(e,r.default)),r);return mt(e,Et,It).call(e,n,r.type)})},Ft=function(t,e){return"object"!==e.type&&"array"!==e.type||!e.properties?t:Nt(e.properties).parse(t)},Ct=function(t){var e=this;return void 0===t[0]?t:["number","boolean","string"].includes(n(t[0]))?t:t.map(function(t){return mt(e,xt,qt).call(e,t)})},Dt=function(t){return"function"==typeof t?t():null==t?"":t},It=function(t,e){return n(t)===e?t:"number"===e?+t:"string"===e?"".concat(t):"boolean"===e?!!t:t},Rt=function(){var t=this;return b(p(this,Ot),function(e){return mt(t,Tt,Dt).call(t,e.default)})};function Nt(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new wt(t)}t.createDataModel=Nt,t.default=wt,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=data-model-service.min.js.map
